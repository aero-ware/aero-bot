# aero-bot

AerBot is a fully funtional, open-source Discord bot with many advanced features.
It also functions as a prime example of how [AeroClient](https://aero-ware.github.io/aeroclient) should be used to make great bots.

## Inviting the bot to your server

You can invite the bot [here](https://top.gg/bot/787460489427812363) or use this code to run it yourself. To run it yourself check [Running the bot Yourself](###Running-the-Bot-Yourself)

## Running the Bot Yourself

0. Install node.js and npm if they are not already installed. [node.js installer](https://nodejs.org/en/)
1. Clone this repo using `git clone https://github.com/aero-ware/aero-bot.git`, then `cd` into the repo folder.
    - Alternatively you can fork this repo
2. Install all the dependencies using `npm i` or `yarn`
3. Create a new file in the directory called `.env` and add the following:
    - The `token` is a string generated by Discord that acts as authentication for the bot. [More info on generating tokens](https://discordjs.guide/preparations/setting-up-a-bot-application.html#creating-your-bot)
    - The `snowflakeToken` is the access token for the [Snowflake API](https://api.snowflakedev.xyz)
    - The `topGGToken` is the access token for the Top.GG API.
    - The `mongoPath` is a URI that the bot will use to connect to the mongoDB database.
    - The `defaultPrefix` is the ~~default prefix in any server before it is reassigned~~ [what else would it be](https://youtu.be/dQw4w9WgXcQ)?
    - the `adminIds` should be a comma separated list of user IDs, ex: `id1,id2,id3` who can use the `ownerOnly` commands
    - The `suggestionChannel` is the ID of the channel where new feature requests/suggestions from users go to.
    - the `errorLog` is the ID of the channel where any unhandled promise rejections (any uncaught errors) can be logged. It is optional.
    - Here is an example of a valid `.env` file:

```
token=<your discord bot token goes here>
snowflakeToken=<your snowflake API token goes here>
topGGToken=<your top.GG API token goes here>
mongoPath=<uri to your mongoDB server (local or remote)>
defaultPrefix=<a char/string that will be the default prefix for the bot>
adminIds=<a comma separated list of user IDs that should be the bot owner(s)>
suggestionChannel=<channel ID>
errorLog=<optional channel ID where errors can be logged>
```

4. Run `yarn dev` or `npm run dev` to run the bot in development mode!
    - In case you are running this bot on the cloud where TypeScript cannot run, Use `yarn deploy` or `npm run deploy` to run the TypeScript transpiler to run the bot in JavaScript.
      No functionality should be lost.
5. Generate yourself an invite link using the OAuth2 tab of the application page, check scope `bot` and be sure to give it the `Administrator` permission.

---

## Library Documentation

This bot uses the [Discord.js](https://discord.js.org/#/docs/main/stable/general/welcome) and its optional libraries to take advantage of its easy access to the Discord API without having to directly and manually send HTTP requests to Discord.

It also uses our own [AeroClient](https://aero-ware.github.io/aeroclient) to use its advanced framework to make development a lot easier.

The [mongoose](https://npmjs.com/package/mongoose) library is used to access the mongoDB database.

The [axios](https://npmjs.com/package/axios) package is used to perform API requests.

The [date-fns](https://npmjs.com/package/date-fns) package is used to format dates and durations.

Finally, the [ms](https://npmjs.com/package/ms) package is used in certain commands to convert strings such as `1d6h` into milliseconds and back.

---

## Bot Documentation

Information for all the commands of the bot can be seen by running `>help`. A web version of this is currently in development [here](https://aero-ware.github.io/aero-bot/commands.html). If anyone wants to help by adding command information, don't hesitate to check [Development](#Development) for more info (The website is in the docs folder).

---

## Development

### Filing Issues

If you found a bug or want to submit an idea for a feature or something else in between, the best place for that would be in an **issue**. If you submit an issue, please be sure to apply the appropriate labels so that I can filter through them easier.

Please submit each individual file/collection of files needed for a feature individually, as some may be approved while others may not.

### Discord

You can join our [Discord Server](https://discord.gg/Vs4rfsfd4q) to talk to us about any problems or suggest new features there.

### Implementing fixes/features yourself

Should you desire to work on what you have suggested, don't hesitate to fork this repo and work on it yourself and create and link a pull request. Please remember to apply the diy-fix label to your issue and PR. **DO NOT SUBMIT PRs TO `master`.**
